# php-console-logger

Мини-класс `Console` для PHP 7.3+ (CLI/cron): аккуратный вывод в терминал, цвета через ANSI (только когда это реально терминал), ошибки в `STDERR`, отключение цветов через `NO_COLOR`, выравнивание `Key: Value` и базовая защита от ANSI/управляющих символов во входном тексте.

## Что решаем

Когда пишешь cron/CLI-скрипты, обычно хочется:
- чтобы статусы были читаемыми (`[OK]`, `[WARN]`, `[ERR]`)
- чтобы ошибки шли в `STDERR` (удобно для логов и мониторинга)
- чтобы цвета не ломали вывод при редиректе в файл
- чтобы никто не мог “подрисовать” тебе терминал через ANSI-последовательности

Этот класс закрывает эти задачи без зависимостей.

## Когда не подходит

Если нужна полноценная CLI-обвязка (команды, аргументы, интерактив, прогресс-бар, таблицы, автогенерация help) — лучше взять **Symfony Console**.

## Возможности

- Методы: `Info()`, `Success()`, `Warn()`, `Error()`, `Debug()`
- Ключ-значение: `Kv("EAN", "4000530...")` с выравниванием
- Цвета через ANSI, только если:
	- вывод идёт в терминал (TTY)
	- `TERM` не `dumb`
	- не задано `NO_COLOR`
- Ошибки в `STDERR` (`Error()` печатает в `STDERR`)
- `CleanText()` чистит пользовательский текст от ANSI/CSI и управляющих символов

## Установка

Просто скопируй `src/Console.php` в свой проект и подключи:

```php
require_once __DIR__ . '/src/Console.php';

## Пример использования

```php
require_once __DIR__ . '/src/Console.php';

Console::Info("Started");
Console::Kv("id", "777");
Console::Success("OK");
Console::Warn("id is empty");
Console::Error("API failed: 429 Too Many Requests");

## Отключение цветов

Если нужно принудительно отключить цвета (например, для логов):

```php
NO_COLOR=1 php examples/demo.php
